<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Bitcoin Payment ‚Äì CPN Creator</title>
  <style>
  body {
    font-family: Arial, sans-serif;
    background: #000;
    color: #fff;
    padding: 40px;
    max-width: 700px;
    margin: auto;
  }
  h1 { font-size: 2em; }
  .price-line {
    display: flex;
    align-items: center;
    gap: 15px;
    font-size: 1.4em;
    font-weight: bold;
    margin: 15px 0;
  }
  #btcAmount { color: orange; cursor: pointer; }
  .btc-section {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 20px;
    margin: 15px 0;
  }
  .btc-address {
    background: #222;
    padding: 14px 18px;
    border-radius: 4px;
    cursor: pointer;
    font-size: 1.25em;
    font-weight: bold;
  }
  #qrcode img { width: 120px; height: 120px; }
  label { display: block; margin-top: 20px; font-weight: bold; }
  input, select, button {
    display: block;
    width: 100%;
    box-sizing: border-box;
    padding: 12px;
    margin-top: 8px;
    border-radius: 4px;
    border: none;
    font-size: 1em;
  }
  button {
    background: linear-gradient(90deg, #28a745, #218838);
    color: white;
    font-size: 1.2em;
    margin-top: 20px;
    cursor: pointer;
    transition: all 0.3s ease;
  }
  button:hover {
    background: #1e7e34;
    transform: scale(1.03);
  }
  #confirmation, #timerBox {
    display: none;
    margin-top: 30px;
    background: #e0ffe0;
    padding: 30px;
    border-left: 6px solid green;
    font-size: 1.1em;
    color: #000;
  }
  #notice { color: red; font-weight: bold; }
  progress {
    width: 100%;
    height: 30px;
    margin-top: 15px;
  }
  #downloadLink { display: none; margin-top: 20px; text-align: center; }
  #thankYouMessage {
    display: none;
    margin-top: 30px;
    font-size: 1.2em;
    line-height: 1.4;
    text-align: center;
  }
  a, a:visited, a:hover, a:active { color: #fff; text-decoration: none; }

  /* blink animation */
  @keyframes blink {
    0%, 100% { opacity: 1; }
    50%      { opacity: 0; }
  }
  .blink {
    animation: blink 1s step-start infinite;
  }
</style>

</head>
<body>

  <div style="background: #111827; padding: 20px 25px; border-radius: 12px; margin-bottom: 25px; box-shadow: 0 4px 20px rgba(0,0,0,0.4);">
  <h3 style="color: #38bdf8; margin-bottom: 12px; font-size: 1.3rem;">üîé What You Get:</h3>
  <ul style="list-style: none; padding-left: 0; line-height: 1.8; font-size: 1.05rem;">
    <li>‚úÖ <strong>AI-Powered CPN Generator</strong> ‚Äì Built on SSA validation logic</li>
    <li>üîê <strong>Reused Number Scanner</strong> ‚Äì Flagged CPN protection included</li>
    <li>üñ•Ô∏è <strong>Offline License (Device-Locked)</strong> ‚Äì One-time activation, no server needed</li>
    <li>‚ôªÔ∏è <strong>Lifetime Updates + Priority Support</strong> ‚Äì Always up to date</li>
  </ul>
</div>

<p style="color: #16a34a; font-size: 0.95rem; text-align: center; margin-bottom: 20px;">üéâ Trusted by 100+ users ‚Äî Last confirmed order: <span id="recentTime">2 minutes ago</span></p>

<div class="price-line" style="margin-top: 10px;">
  <span>Price: <span style="color: #00ff00;">$700</span></span>
  <span id="btcAmount">‚âà Loading BTC...</span>
</div>

<p id="notice" style="color: #f87171; font-weight: bold;">
  Please send the exact amount shown above.
</p>

<div class="btc-section">
  <div class="btc-address" onclick="copyBTC()" title="Click to copy">
    bc1qtfxzerwdm0wv6v7akvx0h0ksqvx7ycuhaxqa5y
  </div>
  <p style="margin-top: 10px; font-size: 0.9em; color: #9ca3af;">
    üìã Click address to copy
  </p>
  <div id="qrcode">
    <img src="https://raw.githubusercontent.com/cpncreator/cpncreator.github.io/main/assets/qrcode.png" alt="QR Code">
  </div>
</div>

<div id="orderPopup" style="
  position: fixed;
  left: 30px;
  top: 50%;
  transform: translateY(-50%);
  background: #1f2937;
  color: #10b981;
  padding: 14px 20px;
  border-radius: 10px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.4);
  font-size: 0.95rem;
  font-weight: 500;
  display: none;
  z-index: 9999;
  transition: opacity 1s ease;
">
  ‚úÖ Last confirmed order: <span id="randomMinutes">2</span> minutes ago
</div>
<div id="paymentSection">
  <form id="paymentForm">
    <label for="email">Your Email</label>
    <input type="email" id="email" required>

    <label for="os">Windows or Mac Version?</label>
    <select id="os" required>
      <option value="">Select...</option>
      <option value="Windows">Windows</option>
      <option value="Mac">Mac</option>
    </select>

    <label for="txid">Transaction ID</label>
    <input type="text" id="txid" required>

    <button type="submit">Submit</button>
  </form>
</div>

  <div id="confirmation">
  <p><strong>‚úÖ Payment submission received!</strong></p>
  <p>We're tracking your BTC confirmation now. Once it hits 6 confirmations, your download will unlock automatically.</p>
  <p>Need help or have questions? Contact us anytime:</p>
  <p>Email ‚Äì <strong>Coding-planet@proton.me</strong> | WhatsApp ‚Äì <strong>(818) 617-6711</strong></p>
</div>

  <div id="timerBox">
    <p style="font-size: 1.3em; font-weight: bold;">‚è≥ Close this page after confirmation is completed!</p>
    <progress id="progressBar" value="0" max="6"></progress>
  </div>

  <div id="downloadLink"></div>
  <div id="thankYouMessage">
    Your download has started. If you have any questions or did not get your download, you can send us a message on the following.
<p>Email - <strong>Coding-planet@proton.me</strong> | Whatsapp ONLY - <strong>(818) 617-6711</strong></p>
  </div>

<script>
  console.log('‚öôÔ∏è CPN Creator script loaded');

  // Copy BTC address
  function copyBTC() {
    console.log('‚úÇÔ∏è copyBTC() called');
    navigator.clipboard.writeText('bc1qtfxzerwdm0wv6v7akvx0h0ksqvx7ycuhaxqa5y')
      .then(() => {
        console.log('‚úÖ Address copied');
        alert("Bitcoin address copied to clipboard.");
      })
      .catch(err => {
        console.error('‚ùå copy failed:', err);
        alert("Copy failed‚Äîsee console for details.");
      });
  }

  // Copy BTC price
  function copyBTCPrice() {
    console.log('‚úÇÔ∏è copyBTCPrice() called');
    const text = document.getElementById('btcAmount').textContent.trim();
    navigator.clipboard.writeText(text)
      .then(() => {
        console.log('‚úÖ Price copied:', text);
        alert(`Copied BTC price: ${text}`);
      })
      .catch(err => {
        console.error('‚ùå copy price failed:', err);
        alert("Copy price failed‚Äîsee console.");
      });
  }

  // Fetch price from CoinGecko
  function fetchBTCPrice() {
    console.log('‚è≥ fetchBTCPrice() called');
    const btcAmountEl = document.getElementById('btcAmount');
    const priceUSD    = 700;

    fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd')
      .then(res => {
        if (!res.ok) throw new Error(`Status ${res.status}`);
        return res.json();
      })
      .then(data => {
        const rate   = data.bitcoin.usd;
        const amount = (priceUSD / rate).toFixed(8);
        btcAmountEl.textContent = `‚âà ${amount} BTC`;
        btcAmountEl.title = "Click to copy price";
      })
      .catch(err => {
        console.error('‚ùå Error fetching BTC price:', err);
        btcAmountEl.textContent = '‚ö†Ô∏è Error loading BTC';
      });
  }

  // Update ‚ÄúX minutes ago‚Äù randomly (1‚Äì5)
  function updateRecentTime() {
    const el = document.getElementById('recentTime');
    const mins = Math.floor(Math.random() * 5) + 1;
    el.textContent = `${mins} minutes ago`;
  }

  document.addEventListener('DOMContentLoaded', () => {
    console.log('üì¶ DOMContentLoaded');

    fetchBTCPrice();
    document.getElementById('btcAmount').addEventListener('click', copyBTCPrice);
    document.querySelector('.btc-address').addEventListener('click', copyBTC);

    // blinking + random minutes
    const recentEl = document.getElementById('recentTime');
    recentEl.classList.add('blink');
    updateRecentTime();
    setInterval(updateRecentTime, 30000);

    // (optional) auto-refresh BTC rate every minute:
    // setInterval(fetchBTCPrice, 60000);
  });
</script>

  </body>
</html>
